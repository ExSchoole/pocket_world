<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>City center</title>

    <link href="#springUrl('/css/bootstrap/bootstrap.css')" rel="stylesheet">
    <link href="css/font-awesome.css" rel="stylesheet">
    <link href="css/carousel-style.css" rel="stylesheet">
    <link href="#springUrl('/css/buildings.css')" rel="stylesheet">
    
    #macro( showbuilding $position )
     #set($building = false)
     #set($building = ${dto.getBuildings().get($position)})
          #if(  $building  )
              <div class="building_$building.getType() building_position building"></div>
          #else
              <div class="building_position building_empty"></div>
          #end
    #end

</head>

<body class="container">

    #if ($errorMsg)
    <div class="container">
        <div class="alert alert-danger" role="alert">$errorMsg</div>
    </div>
    #end

<div class="container">
    <div class="row">
        <div class="col-md-4" id="res1">
            <a href="#springUrl("/periphery")" class="btn btn-primary">Go to the periphery</a>
        </div>
    </div>
    <div class="row">
        <h1>${dto.NickName}'s city center</h1>
        <div class="col-md-2" id="res1">
            <h3>Gold: ${dto.getResourceDto().getGold()}</h3>
        </div>
        <div class="col-md-2" id="res2">
            <h3>Timber: ${dto.getResourceDto().getTimber()}</h3>
        </div>
        <div class="col-md-2" id="res3">
            <h3>Clay: ${dto.getResourceDto().getClay()}</h3>
        </div>
        <div class="col-md-2" id="res4">
            <h3>Corn: ${dto.getResourceDto().getCorn()}</h3>
        </div>
    </div>
</div>
<p/>
<!-- City center map -->

<div class="row">
    <div class="col-md-7">
      <div class="row">
        #foreach($position in [1,2,3,4])
          <div class="col-md-3">
            #showbuilding( $position )
          </div>
        #end
      
      </div>
      
      <div class="row"> 
            <div class="col-md-3">
               #foreach($position in [5,6])
                   #showbuilding( $position )
               #end               
            </div>
            
            <div class="col-md-6">
                 <div class="central_image building_position"></div>              
            </div>
            
            <div class="col-md-3">
               #foreach($position in [7,8])
                 #showbuilding( $position )
               #end               
            </div>
                       
      </div>
           
      <div class="row">
        #foreach($position in [9,10,11,12])
          <div class="col-md-3">
            #showbuilding( $position )
          </div>
        #end
      </div>        
                               
    </div>
</div>


<script src="#springUrl('/js/jquery-2.1.4.min.js')"/>
<script src="js/jquery.verticalCarousel.js"/>
<script src="js/bootstrap.min.js"/>
<script src="#springUrl('/js/jquery-ui.min.js')"/>

<script type="text/javascript">

    function init() {
        $(".building").draggable({
            appendTo: 'body',
            helper: 'clone',
            revert: 'invalid'

        });
        $(".placeholder").droppable({
            accept: '.building',
            drop: function (ev, ui) {
                $(this).html("");
                $(ui.draggable).appendTo(this);
                console.log(ui);


            }
        });
    }
    ;

    $(document).ready(function () {
        $("#carouselId").verticalCarousel({nSlots: 4, speed: 800});
        init();
    });
</script>

</body>
</html>