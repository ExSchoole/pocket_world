#parse("layout/macros.vm")
#head("City Center")

#@body()
<div class="row">
    <a href="#springUrl('/city/resources/')" class="btn btn-primary">#springMessage('city.resources')</a>
</div>
<div id="message">
</div>
<div class="col-md-7">
    #showResources(${dto.getResourceDto().getGold()},${dto.getResourceDto().getTimber()},${dto.getResourceDto().getClay()},${dto.getResourceDto().getCorn()})
    <div class="row">
        #foreach($position in [1,2,3,4])
            <div class="col-md-3">
                #showbuilding( $dto.getBuildings(), $position )
            </div>
        #end

    </div>

    <div class="row">
        <div class="col-md-3">
            #foreach($position in [5,6])
                   #showbuilding($dto.getBuildings(), $position )
               #end
        </div>

        <div class="col-md-6">
            <div class="central_image building_position"></div>
        </div>

        <div class="col-md-3">
            #foreach($position in [7,8])
                 #showbuilding($dto.getBuildings(), $position )
               #end
        </div>

    </div>

    <div class="row">
        #foreach($position in [9,10,11,12])
            <div class="col-md-3">
                #showbuilding($dto.getBuildings(), $position )
            </div>
        #end
    </div>
</div>


<div class="col-md-5">
         <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-3">
            	#addcarousel($buildingTypes)
            </div>
        </div> 
</div> 

<script type="text/template" class="template">

        <h5>Time: <%- rc[0] %> </h5>
        <h5>Gold: <%- rc[1] %></h5>
        <h5>Timber: <%- rc[2] %></h5>
        <h5>Clay: <%- rc[3] %></h5>
        <h5>Corn: <%- rc[4] %></h5>
        <button class="btn btn-primary lvlUp">Level Up</button>

    </script>
#end

<script src="#springUrl('/js/jquery-ui.min.js')"></script>
<script src="#springUrl('/js/DragDrop.js')"></script>
<script src="#springUrl('/js/ajaxCallAddBuilding.js')"></script>
<script src="#springUrl('/js/jquery.verticalCarousel.js')"></script>
<script src="#springUrl('/js/levelUp.js')"></script>
<script src="#springUrl('/js/underscore.js')"></script>
<script type="text/javascript" src="#springUrl('/js/popupUtil.js')"></script>

<script>
	DragDropBuild("building_karusel","building_empty", "#springUrl('/city/center/addBuilding')","$dto.getNickName()");

     $(function () {
	     $("#carouselId").verticalCarousel({nSlots: 3, speed: 900});
     });
     
      _.templateSettings.variable = "rc";
        var template = _.template(
            $( "script.template" ).html()
        );
     levelUpBuilding("#springUrl('/city/center/')","$dto.getNickName()",template);
</script> 
